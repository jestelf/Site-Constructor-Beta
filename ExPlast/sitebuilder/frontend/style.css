@import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

:root{
  --color-bg:#f0f5f7;
  --color-panel:#2f3e48;
  --color-primary:#38b2ac;
  --color-primary-hover:#2d9c94;
  --radius:6px;
  --shadow:0 4px 8px rgba(0,0,0,.3);
}

html,body{
  margin:0;
  height:100%;
  font-family:'Roboto',sans-serif;
}

#canvas{
  height:calc(100vh - 54px);
  background:var(--color-bg);
}

#gridOverlay{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:2;
  background-image:
    repeating-linear-gradient(to right, rgba(0,0,0,.1) 0 1px, transparent 1px),
    repeating-linear-gradient(to bottom, rgba(0,0,0,.1) 0 1px, transparent 1px);
  background-size:20px 20px;
}

/* элементы, создаваемые редактором */
.draggable{
  position:absolute;
  cursor:move;
  box-sizing:border-box;
}
.selected{
  outline:2px dashed var(--color-primary);
}

.draggable .resize-handle{
  position:absolute;
  width:8px;
  height:8px;
  background:#fff;
  border:1px solid var(--color-primary);
  box-sizing:border-box;
  display:none;
}
.draggable.selected .resize-handle{display:block;}
.resize-handle[data-dir="nw"]{left:-4px;top:-4px;cursor:nwse-resize;}
.resize-handle[data-dir="ne"]{right:-4px;top:-4px;cursor:nesw-resize;}
.resize-handle[data-dir="sw"]{left:-4px;bottom:-4px;cursor:nesw-resize;}
.resize-handle[data-dir="se"]{right:-4px;bottom:-4px;cursor:nwse-resize;}

.toolbar-btn{
  border:none;
  background:var(--color-primary);
  border-radius:var(--radius);
  padding:5px;
  cursor:pointer;
  min-width:28px;
  color:#fff;
  transition:background-color .2s;
}
.toolbar-btn:hover{background:var(--color-primary-hover);}

/* верхняя панель */
#topBar{
  padding:6px 12px;
  background:var(--color-panel);
  display:flex;
  gap:8px;
  align-items:center;
  color:#fff;
  box-shadow:var(--shadow);
}
#topBar button{
  background:var(--color-primary);
  border:none;
  color:#fff;
  padding:4px 8px;
  border-radius:var(--radius);
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:4px;
  transition:background-color .2s;
}
#topBar button:hover{background:var(--color-primary-hover);}

/* панель страниц */
#pagesBar{
  margin-left:32px;
  display:flex;
  gap:4px;
  background:var(--color-panel);
  padding:4px 8px;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
}

#pagesBar select{
  padding:4px 6px;
  border:1px solid #555;
  border-radius:var(--radius);
  background:var(--color-panel);
  color:#fff;
}

#pagesBar button{
  background:var(--color-primary);
  border:none;
  color:#fff;
  padding:4px 8px;
  border-radius:var(--radius);
  cursor:pointer;
  transition:background-color .2s;
}
#pagesBar button:hover{background:var(--color-primary-hover);}

/* боковая мини-панель */
.toolbar{
  position:absolute;
  right:10px;
  top:60px;
  display:flex;
  flex-direction:column;
  gap:6px;
  z-index:9999;
  background:var(--color-panel);
  border:1px solid #555;
  border-radius:var(--radius);
  padding:6px;
  box-shadow:var(--shadow);
  font-size:13px;
  color:#fff;
  opacity:0;
  transform:scale(.95);
  pointer-events:none;
  transition:opacity .2s, transform .2s;
}
.toolbar.open{
  opacity:1;
  transform:scale(1);
  pointer-events:auto;
}
.toolbar button{
  border:none;
  background:var(--color-primary);
  border-radius:var(--radius);
  padding:5px;
  cursor:pointer;
  min-width:28px;
  color:#fff;
  transition:background-color .2s;
}
.toolbar button:hover{background:var(--color-primary-hover);}

#colorPick{
  border:1px solid #777;
  border-radius:var(--radius);
  width:32px;
  height:23px;
  padding:0;
  background:#fff;
}

/* левая панель блоков */
#blocksBar{
  left:10px;
  right:auto;
}

/* панель слоёв */
#layersPanel{
  left:120px;
  right:auto;
  width:140px;
}

#layersList li.selected{
  background:var(--color-primary);
  color:#fff;
}

/* панель конфигурации */
#configPanel{
  position:absolute;
  left:50%;
  top:80px;
  transform:translateX(-50%) scale(.95);
  background:#fff;
  color:#000;
  border:1px solid #555;
  border-radius:var(--radius);
  padding:10px;
  box-shadow:var(--shadow);
  z-index:10000;
  opacity:0;
  pointer-events:none;
  transition:opacity .2s, transform .2s;
}
#configPanel.open{
  opacity:1;
  transform:translateX(-50%) scale(1);
  pointer-events:auto;
}
#configPanel label{display:block;margin:4px 0;}

/* панель свойств */
#propsPanel label{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:4px;
}
#propsPanel input[type="number"]{
  width:60px;
}
