# ¬´–ü–ª–∞—Å—Ç–∏–ª–∏–Ω–æ–≤—ã–π¬ª –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–∞–π—Ç–æ–≤ ‚Äî ExPlast

–í–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π **–±—É–∫–≤–∞–ª—å–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –∏ ¬´–º—è—Ç—å¬ª —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞–∫ –ø–ª–∞—Å—Ç–∏–ª–∏–Ω**.
‚ú¶ —Å–≤–æ–±–æ–¥–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (absolute + snap-grid)
‚ú¶ –º–Ω–æ–≥–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã + –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏
‚ú¶ —ç–∫—Å–ø–æ—Ä—Ç –≤ ZIP (HTML / CSS / assets)
‚ú¶ —Ä—É—Å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + –º–∏–Ω–∏-–ø–∞–Ω–µ–ª—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–¥ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–º —ç–ª–µ–º–µ–Ω—Ç–æ–º
‚ú¶ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –±—ç–∫–µ–Ω–¥ ‚Äî FastAPI + SQLite, –≤–µ—Å—å UI –≤ –æ–¥–Ω–æ–º HTML / JS

---

## Demo

| –†–µ–¥–∞–∫—Ç–æ—Ä                        | –ú–∏–Ω–∏-–ø–∞–Ω–µ–ª—å                       | –≠–∫—Å–ø–æ—Ä—Ç                     |
| ------------------------------- | --------------------------------- | --------------------------- |
| ![canvas](docs/demo_canvas.gif) | ![toolbar](docs/demo_toolbar.gif) | ![save](docs/demo_save.gif) |

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```text
jestelf/
‚îî‚îÄ‚îÄ sitebuilder/
    ‚îú‚îÄ‚îÄ frontend/
    ‚îÇ   ‚îú‚îÄ‚îÄ index.html        # –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (GrapesJS + –ø–ª–∞–≥–∏–Ω—ã)
    ‚îÇ   ‚îî‚îÄ‚îÄ main.js           # i18n, —Å–≤–æ–±–æ–¥–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, Pages-UI
    ‚îú‚îÄ‚îÄ backend/
    ‚îÇ   ‚îú‚îÄ‚îÄ app/
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ crud.py        # SQLite-CRUD
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exporter.py    # HTML/CSS ‚Üí ZIP
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py      # SQLAlchemy ORM
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas.py     # Pydantic v2
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py        # —Ç–æ—á–∫–∏ API + –≤—ã–¥–∞—á–∞ —Ñ—Ä–æ–Ω—Ç–∞
    ‚îÇ   ‚îî‚îÄ‚îÄ tests/             # pytest ‚Äî 100 % –ø—Ä–æ—Ö–æ–¥—è—Ç
    ‚îî‚îÄ‚îÄ requirements.txt
```

---

## üì¶ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

> –¢—Ä–µ–±—É–µ—Ç—Å—è **Python 3.11+**. Node / npm –Ω–µ –Ω—É–∂–Ω—ã.

```bash
git clone https://github.com/[nick]/Site-Constructor-Beta.git
cd Site-Constructor-Beta

python -m venv .venv
source .venv/bin/activate        # Windows: .venv\Scripts\activate

pip install -r ExPlast/sitebuilder/backend/requirements.txt
python -m uvicorn sitebuilder.backend.app.main:app --reload
# üëâ http://127.0.0.1:8000       ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä
# üëâ http://127.0.0.1:8000/docs  ‚Äî Swagger API
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é SQLite-–±–∞–∑–∞ —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `builder.db`. –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ
–ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø—É—Ç—å –∫ –±–∞–∑–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `DATABASE_URL`,
–Ω–∞–ø—Ä–∏–º–µ—Ä:

```bash
export DATABASE_URL=postgresql://user:pass@localhost/dbname
```

---

## ‚öôÔ∏è CLI-—Å–∫—Ä–∏–ø—Ç—ã

| –∫–æ–º–∞–Ω–¥–∞                                           | –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ                   |
| ------------------------------------------------- | ---------------------------- |
| `PYTHONPATH=. python -m pytest -q`                | –∑–∞–ø—É—Å–∫–∞–µ—Ç unit-—Ç–µ—Å—Ç—ã (5 —à—Ç.) |
| `curl -O http://127.0.0.1:8000/projects/1/export` | —Å–∫–∞—á–∏–≤–∞–µ—Ç `site.zip`         |
| `sqlite3 builder.db '.tables'`                    | –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∞–∑—É             |

---

## –ö–ª—é—á–µ–≤—ã–µ —Ñ–∏—á–∏

| –§–∏—á–∞                                    | –ì–¥–µ –≤ –∫–æ–¥–µ                                            |
| --------------------------------------- | ----------------------------------------------------- |
| Drag & Drop + snap-grid                 | `sitebuilder/frontend/main.js`, –ø–ª–∞–≥–∏–Ω `grapesjs-plugin-absolute` |
| –ü–æ–∑–∏—Ü–∏–∏ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö + –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫—Ä–∞—è–º  | `sitebuilder/frontend/main.js` |
| –ú–∏–Ω–∏-toolbar *(bold/italic/H1/H2/—Ü–≤–µ—Ç)* | `sitebuilder/frontend/main.js`                                    |
| –ü–æ–ª–Ω—ã–π —Ä—É—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä GrapesJS             | `i18n.messages.ru` –≤ `main.js`                        |
| Pages-UI (–¥–æ–±–∞–≤–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å, select)     | `sitebuilder/frontend/main.js`                                    |
| href-trait –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü       | –∫–∞—Å—Ç–æ–º–Ω—ã–π trait `link-pages`                          |
| ZIP-—ç–∫—Å–ø–æ—Ä—Ç                             | `backend/app/exporter.py`                             |
| 100 % —Ç–µ—Å—Ç-–ø–æ–∫—Ä—ã—Ç–∏–µ CRUD/—ç–∫—Å–ø–æ—Ä—Ç        | `sitebuilder/backend/tests/`                          |

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –±–ª–æ–∫–∏

- **–¢–µ–∫—Å—Ç** –∏ **–ö–∞—Ä—Ç–∏–Ω–∫–∞** ‚Äî –±–∞–∑–æ–≤—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã.
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫** ‚Äî –±–ª–æ–∫ `<h1>`.
- **–ö–Ω–æ–ø–∫–∞** ‚Äî —Å—Å—ã–ª–∫–∞-–∫–Ω–æ–ø–∫–∞.
- **–°–ø–∏—Å–æ–∫** ‚Äî –Ω–∞–±–æ—Ä –ø—É–Ω–∫—Ç–æ–≤.
- **–§–æ—Ä–º–∞** ‚Äî –ø—Ä–æ—Å—Ç–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å.

---

## REST API (–∫—Ä–∞—Ç–∫–æ)

| –º–µ—Ç–æ–¥    | –ø—É—Ç—å                              | –¥–µ–π—Å—Ç–≤–∏–µ          |
| -------- | --------------------------------- | ----------------- |
| `POST`   | `/projects/`                      | —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç    |
| `GET`    | `/projects/{pid}`                 | –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç   |
| `PUT`    | `/projects/{pid}`                 | –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç   |
| `GET`    | `/projects/{pid}/export`          | ZIP-—ç–∫—Å–ø–æ—Ä—Ç       |
| `GET`    | `/projects/{pid}/pages`           | —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü    |
| `POST`   | `/projects/{pid}/pages`           | —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É  |
| `PUT`    | `/projects/{pid}/pages/{page_id}` | –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É |
| `DELETE` | idem                              | —É–¥–∞–ª–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É  |

–ü–æ–ª–Ω–∞—è OpenAPI-—Å–ø–µ–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ `/docs`.

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

![–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](docs/architecture.svg)

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT ¬© 2025 jestelf
